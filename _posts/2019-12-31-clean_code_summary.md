---
layout: post
title: 클린코드 요약 + 토비님 강의 기억남는 것
description:
tags: [develop, cleancode]
categories: [develop]
---

```
개인적으로 정리한 클린코드 핵심 요약과, 토비 님의 강의 중 개발자 역량에 필요한 부분 중 기억에 남는 부분 요약

클린코드는 어떤 코드가 좋은 코드인가에 대한 감을 익히기 위해 필수적으로 체화해야하는 책이고,
토비 님의 강의는 개발자에게 필요한 자기계발이란 무엇인가에 대해 생각하게 해주는 것 같다
```

***

### 클린코드

1. 변수명
- 의미있게, 의도를 나타낼것, 발음하기 쉽고 검색하기 쉬우면 좋음

2. 함수
- 작을 수록 좋음(한가지 일만 할것)
- Single Responsibility Principle(SRP)
- Open Closed Principle(OCP)
- 함수명은 서술적으로
- 함수 인수는 적을수록 좋음
- 출력 인수는 사용하지 않는게 좋다(인지적으로 거슬림, 객체지향과 맞지 않음)

3. 주석
- 정말로 필요한 경우를 제외하곤 필요악
- 이클립스 TODO, FIXME => window -> show view -> Tasks
- 함수나 변수로 표현할 수 있으면 주석을 달지 말자

4. 객체와 자료구조
- getter/setter만 있는 클래스는 객체가 아니라 자료구조라고 보면 됨
- 절차적인 코드는 기존 자료구조를 변경하지 않으면서 새 함수를 추가하기 쉽다. 객체 지향 코드는 기존 함수를 변경하지 않으면서 새 클래스를 추가하기 쉽다.
- 객체는 기존 동작을 변경하지 않으면서 새 객체 타입을 추가하기 쉽다(다형성). 그러나 기존 객체에 새 동작을 추가하기는 어렵다 / 자료구조는 기존 자료구조에 새 동작을 추가하기는 쉽다. 그러나 기존 함수에 새 자료 구조를 추가하기는 어렵다
- 새로운 자료타입 확장성: 객체지향 / 새로운 동작 확장성: 자료구조, 절차지향

5. 예외처리
- checked exception은 open close principle을 깸. 상위 함수까지 모두 throw를 던져야 함.
- 외부 API 사용시 wrapper class 사용하면 의존성을 크게 줄일 수 있음
- null 반환 or try/catch 보다 특수 사례 패턴이 좋을 때가 있음
- null을 반환하거나 인수로 받는 함수를 안짜는게 좋음

6. 경계
- 외부 라이브러리(Map)을 독자 클래스로 변환하면, 잘못된 함수를 호출할 일도 줄어들고 의존성도 줄어듦

7. 단위테스트
- 테스트는 유연성, 유지보수성, 재사용성을 제공한다
- 테스트가 없으면 코드를 변경하는 능력이 떨어지고, 실제 코드도 지저분해짐
- 테스트 코드는 메모리, CPU 효율화와 같은 요소는 무시하고 간결하게
- FIRST: fast / independent / repeatable / self-validation / timely

8. 클래스
- Single Responsibility Principle 우선, 한 클래스는 하나의 responsibility만 지녀야함
- 클래스 간 결합도 낮을수록 변경이 용이함

9. 시스템
- 의사결정을 나중으로 미루는 방법이 종종 최선일 수 있음

10. 창발적 설계
- 모든 테스트를 실행한다 / 중복을 없앤다 / 프로그래머 의도를 표현한다 / 클래스와 메서드 수를 최소로 줄인다

11. 동시성
- 동시성 코드는 다른 코드와 분리 / 자료를 캡슐화, 공유 자료를 줄일 것(사본사용) / 쓰레드에 안전한 라이브러리 사용 / 말도 안되는 에러는 쓰레드 에러로 생각(일회성 에러는 없다)

12. JUnit 들여다보기
- 숨겨진 시간적인 결합(함수 사이에 시간적인 인과관계가 있을때 -> 인수로 pre 함수의 결과를 호출하는 식으로 해결 or AandB 라고 메소드를 합쳐줌 등)

13. 냄새와 휴리스틱
- 주석 : 부적절한 정보/쓸모 없는 주석/ 중복된 주석 / 성의 없는 주석 / 주석 처리된 코드
- 환경 : 여러 번 빌드 / 여러 단계 테스트
- 함수 : 너무 많은 인수 / 출력 인수 / 플래그 인수 / 죽은 함수
- 일반 : 안전절차 무시 / 중복 / 잘못된 추상화 수준 /

14. 동시성
- 서버, 클라이언트 잠금 중에 서버 잠금 구현이 훨씬 쉬움

### 토비 님 강의요약

- 알려진 코드 읽고 분석, 비판
- 오픈 소스 PR도 좋음
- 히스토리와 이슈 살펴보기
- 메인코드 뿐 아니라 테스트도 읽기
- 다양한 샘플, 토이프로젝트 만들기
- 테스트 코드 작성은 필수